{"version":3,"sources":["MyTable.js","TabTable.js","FileInput.js","UserInterface.js","index.js"],"names":["options","value","label","index","disabled","MyTable","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","columns","dataField","text","attrs","width","textAlign","classes","cell","row","rowIndex","colIndex","subtitleIndexArray","includes","formatter","columnValues","react_default","a","createElement","react_select_es","closeOnSelect","multi","removeSelected","searchable","onChange","onSelectChange","bind","assertThisInitialized","getSelectionTurples","checkSelections","id","turpleString","split","map","i","parseInt","lib_default","keyField","data","striped","hover","condensed","Component","TabTable","esm","selectedIndex","tabIndex","onSelect","handleTabIndexChange","Array","titles","length","fill","e","selectionValues","MyTable_MyTable","KeyField","tabID","UserInterface","retrieveUserNames","handleUserSelectionSubmit","handleUserSelectionChange","handleFileChange","handleSelectChange","handleAnnotationSubmit","retrieveFileNames","handleTabChange","handleItemCheck","findItemIndex","_this2","httprequest","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","userNames","responseText","trim","users","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","user","push","err","return","setState","send","username","_this3","fileOptions","annotatedFilenames","num_annotated","fileLists","num_total","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","filename","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","indexOf","className","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","numAnnotated","numTotal","postJson","JSON","stringify","handleAnnotatedFileChange","handleUnAnnotatedFileChange","_this4","xmlrequest","obj","parse","require","Parser","parseString","result","titleArray","titleSpanArray","textSpanArray","dataArray","subtitleArray","curSentenceIndex","curSectionIndex","docTitle","document","sentence","_","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","section","lastSectionEndSpan","thisSectionStartSpan","$","textSpan","toString","title","titleSpan","prototype","apply","getSubTitles","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","spans","charOffset","start","span","sentence_id","selectedFileName","xmlParsedJson","documentTitle","getElementById","setAttribute","userName","_this5","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","selection","note","subtitles","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","sec","fileObject","_this6","reader","FileReader","onload","explicitArray","console","log","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","readAsText","selectedUserName","json","_this7","builder","Builder","j","findSentenceIndex","xml","buildObject","postJsonRequest","alert","checkAllSelection","saveSelectionValues","valueArray","columnArray","k","Set","selections","selecs","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","s","has","add","selectedItemIndex","win","window","write","currentSelection","align","onSelectResetsInput","clearable","onClick","class","target","TabTable_TabTable","currentFileName","href","dist_default","placeholder","renderTable","userSelectedInterface","noUserSelectedInterface","ReactDOM","render","UserInterface_UserInterface"],"mappings":"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","file":"static/js/main.9bd16218.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\nimport Select from 'react-select'\nimport 'react-select/dist/react-select.css';\nimport './MyTable.css';\n\nconst options = [\n  { value: '1a', label: 'Title (Randomized) (1a)', index: 1},\n  { value: '1b', label: 'Structured Abstract (1b)', index: 2},\n  { value: 'introduction', label: 'Introduction', disabled: true, index: 3},\n  { value: '2a', label: 'Background (2a)', index: 4},\n  { value: '2b', label: 'Objective (2b)', index: 5},\n  { value: 'methods', label: 'Methods', disabled: true, index: 6},\n  { value: '3a', label: 'Trial Design (3a)', index: 7},\n  { value: '3b', label: 'Changes TO Trial Design (3b)', index: 8},\n  { value: '4a', label: 'Eligibility Criteria (4a)', index: 9},\n  { value: '4b', label: 'Data Collection Setting (4b)', index: 10},\n  { value: '5', label: 'Interventions (5)', index: 11},\n  { value: '6a', label: 'Outcomes (6a)', index: 12},\n  { value: '6b', label: 'Changes to Outcomes (6b)', index: 13},\n  { value: '7a', label: 'Sample Size Determination (7a)', index: 14},\n  { value: '7b', label: 'Interim Analyses/Stopping Guidelines (7b)', index: 15},\n  { value: '8a', label: 'Random Allocation Sequence Generation (8a)', index: 16},\n  { value: '8b', label: 'Randomization Type (8b)', index: 17},\n  { value: '9', label: 'Allocation Concealment Mechanism (9)', index: 18},\n  { value: '10', label: 'Randomization Implementation (10)', index: 19},\n  { value: '11a', label: 'Blinding Procedure (11a)', index: 20},\n  { value: '11b', label: 'Similarity of Interventions (11b)', index: 21},\n  { value: '12a', label: 'Statistical Methods for Outcome Comparison (12a)', index: 22},\n  { value: '12b', label: 'Statistical Methods for Other Analyses (12b)', index: 23},\n  { value: 'results', label: 'Results', disabled: true, index: 24},\n  { value: '13a', label: 'Participant Flow (13a)', index: 25},\n  { value: '13b', label: 'Participant Loss and Exclusion (13b)', index: 26},\n  { value: '14a', label: 'Recruitment Period/Follow-Up (14a)', index: 27},\n  { value: '14b', label: 'Trial Stopping (14b)', index: 28},\n  { value: '15', label: 'Baseline Data (15)', index: 29},\n  { value: '16', label: 'Numbers Analyzed (16)', index: 30},\n  { value: '17a', label: 'Outcome Results (17a)', index: 31},\n  { value: '17b', label: 'Binary Outcome Results (17b)', index: 32},\n  { value: '18', label: 'Ancillary Analyses (18)', index: 33},\n  { value: '19', label: 'Harms (19)', index: 34},\n  { value: 'discussion', label: 'Discussion', disabled: true, index: 35},\n  { value: '20', label: 'Limitations (20)', index: 36},\n  { value: '21', label: 'Generalizability (21)', index: 37},\n  { value: '22', label: 'Interpretation (22)', index: 38},\n  { value: 'other', label: 'Other', disabled: true, index: 39},\n  { value: '23', label: 'Registry/Number (23)', index: 40},\n  { value: '24', label: 'Protocol Access (24)', index: 41},\n  { value: '25', label: 'Funding (25)', index: 42},\n];\n\n\nexport default class MyTable extends Component {\n\n  constructor(props) {\n    super(props);\n    //this.trStyle = this.trStyle.bind(this);\n    this.state = {\n      columns: [{dataField: \"id\", text: \"ID\", attrs: {width: \"3%\", textAlign: \"center\"}},\n                {dataField: \"sentence\", text: \"SENTENCE\", attrs: {width: \"72%\"}, classes: (cell, row, rowIndex, colIndex) => {\n                  return this.props.subtitleIndexArray.includes(rowIndex+1) ? 'example1' : 'example2';\n                }},\n                {dataField: \"category\", text: \"CATEGORY\", formatter: (cell, row, rowIndex, colIndex) => {\n                    return this.props.columnValues && this.props.columnValues[rowIndex] ?\n                      <Select options={options} closeOnSelect={true} multi removeSelected={true} searchable ={true}\n                      width=\"25%\" onChange={this.props.onSelectChange.bind(this, rowIndex)} value={this.getSelectionTurples(this.props.columnValues[rowIndex])}/>\n                      :\n                      (this.props.checkSelections ?\n                      <Select options={options} closeOnSelect={true} multi removeSelected={true} searchable ={true}\n                      width=\"25%\" onChange={this.props.onSelectChange.bind(this, rowIndex)} id=\"unselected\"/>\n                      :\n                      <Select options={options} closeOnSelect={true} multi removeSelected={true} searchable ={true}\n                      width=\"25%\" onChange={this.props.onSelectChange.bind(this, rowIndex)}/>);\n                  }}]\n      };\n  }\n\n  getSelectionTurples(turpleString) {\n    var turpleIndexArray = turpleString.split(' ');\n    var turples = turpleIndexArray.map(i => options[parseInt(i)-1]);\n    return turples;\n  }\n\n  // trStyle = (row, rowIndex) => {\n  //   return this.props.columnValues && this.props.columnValues[rowIndex] ?\n  //     { backgroundColor: '#40E0D0' }\n  //     :\n  //     { backgroundColor: '#D3D3D3' };\n  // }\n\n  render() {\n    return (\n      <BootstrapTable keyField=\"id\" //rowStyle={this.trStyle}\n        data={this.props.data} columns={this.state.columns}\n        striped hover condensed>\n      </BootstrapTable>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Tabs, TabList, Tab, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\nimport './TabTable.css';\nimport MyTable from './MyTable'\n\nexport default class TabTable extends Component {\n  render() {\n    return (\n      <div>\n        <Tabs selectedIndex={this.props.tabIndex} onSelect={this.props.handleTabIndexChange}>\n          <TabList>\n            {Array(this.props.titles.length).fill().map((e,i) => <Tab> {this.props.titles[i]} </Tab>)}\n          </TabList>\n\n          <div>\n          {Array(this.props.titles.length).fill().map(\n            (e,i) =>\n                      this.props.selectionValues ?\n                      <TabPanel>\n                        <MyTable KeyField=\"id\" data={this.props.data[i]} columnValues={this.props.selectionValues[i]} tabID={i}\n                        onSelectChange={this.props.onSelectChange.bind(this, i)} checkSelections={this.props.checkSelections}\n                        subtitleIndexArray={this.props.subtitleIndexArray[i]}/>\n                      </TabPanel>\n                      :\n                      <TabPanel>\n                        <MyTable KeyField=\"id\" data={this.props.data[i]} tabID={i}\n                        onSelectChange={this.props.onSelectChange.bind(this, i)} checkSelections={this.props.checkSelections}\n                        subtitleIndexArray={this.props.subtitleIndexArray[i]}/>\n                      </TabPanel>)}\n\n          </div>\n        </Tabs>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport \"./fileinput.css\"\n\nexport default class FileInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.onFileLoaded(this.fileInput.files[0]);\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} id=\"filepickerwrapper\">\n        <label>\n          Upload file:\n          <input\n            type=\"file\"\n            ref={input => {\n              this.fileInput = input;\n            }}\n          />\n        </label>\n        <br />\n        <button type=\"submit\">Submit</button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport 'react-dropdown/style.css'\nimport TabTable from './TabTable'\nimport FileInput from './FileInput'\nimport Dropdown from 'react-dropdown'\nimport Select from 'react-select'\nimport 'react-select/dist/react-select.css';\nimport './UserInterface.css'\n\nconst URL_GET_FILENAMES = 'GetAnnotationFileList.php'\nconst URL_GET_FILE = 'GetAnnotationFileNew.php'\nconst URL_GET_USERNAMES = 'GetUserNamesNew.php'\nconst PDF_DIR = 'pdfs/'\nconst URL_POST_JSON = 'PostAnnotatedJSONNew.php'\n\nexport default class UserInterface extends Component {\n\n  constructor(props) {\n    super(props);\n    this.retrieveUserNames();\n    this.handleUserSelectionSubmit = this.handleUserSelectionSubmit.bind(this);\n    this.handleUserSelectionChange = this.handleUserSelectionChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n    this.handleAnnotationSubmit = this.handleAnnotationSubmit.bind(this);\n    this.retrieveFileNames = this.retrieveFileNames.bind(this);\n    this.handleTabChange = this.handleTabChange.bind(this);\n    this.handleItemCheck = this.handleItemCheck.bind(this);\n    this.findItemIndex = this.findItemIndex.bind(this);\n    this.state = {\n      checkSelections: false,\n      titles: []\n    };\n  }\n\n  retrieveUserNames() {\n    var httprequest = new XMLHttpRequest();\n    httprequest.open('POST', URL_GET_USERNAMES, true);\n    httprequest.setRequestHeader(\"Content-type\", \"application/json\");\n    httprequest.onreadystatechange = () => {\n      if(httprequest.readyState === 4){\n        var response = httprequest.responseText;\n        var userNames = response.trim().split(\" \");\n        var users = [];\n        for (var user of userNames) {\n          users.push({value: user, label: user});\n        }\n        this.setState({users: users});\n      }\n    };\n    httprequest.send(null);\n  }\n\n  retrieveFileNames(username) {\n    var httprequest = new XMLHttpRequest();\n    httprequest.open('POST', URL_GET_FILENAMES, true);\n    httprequest.setRequestHeader(\"Content-type\", \"application/json\");\n    httprequest.onreadystatechange = () => {\n      if(httprequest.readyState === 4){\n        var response = httprequest.responseText;\n        var fileOptions= [];\n        var annotatedFilenames = [];\n        var num_annotated = 0;\n        var fileLists = response.trim().split(\"\\t\");\n        var num_total = fileLists[0].trim().split(' ').length;\n\n        if (fileLists.length > 1){\n          num_annotated = fileLists[1].trim().split(' ').length;\n          for (var filename of fileLists[1].trim().split(' ')) {\n            annotatedFilenames.push(filename);\n          }\n          for (var filename of fileLists[0].trim().split(' ')) {\n            if(annotatedFilenames.indexOf(filename) > -1) {\n              fileOptions.push({value: filename, label: filename, className: 'annotated'});\n            }else{\n              fileOptions.push({value: filename, label: filename, className: 'unannotated'});\n            }\n          }\n        } else {\n          for (var filename of fileLists[0].trim().split(' ')) {\n            fileOptions.push({value: filename, label: filename, className: 'unannotated'});\n          }\n        }\n        this.setState({fileOptions: fileOptions, annotatedFilenames: annotatedFilenames, numAnnotated: num_annotated, numTotal: num_total});\n      }\n    };\n    var postJson = {};\n    postJson[\"user\"] = username;\n    httprequest.send(JSON.stringify(postJson));\n  }\n\n  handleFileChange(e) {\n    this.setState({tabIndex: 0});\n    this.state.annotatedFilenames.indexOf(e.value) > -1 ? this.handleAnnotatedFileChange(e) : this.handleUnAnnotatedFileChange(e);\n  }\n\n  handleUnAnnotatedFileChange(e){\n    var filename = e.value;\n    this.setState({checkSelections: false});\n    var xmlrequest = new XMLHttpRequest();\n    xmlrequest.open('POST', URL_GET_FILE, true);\n    xmlrequest.setRequestHeader(\"Content-type\", \"application/json\");\n    xmlrequest.onreadystatechange = () => {\n      if(xmlrequest.readyState === 4){\n        var text = xmlrequest.responseText;\n        var obj = JSON.parse(text);\n        var xml2js = require('xml2js');\n        var parser = new xml2js.Parser({trim: true});\n        parser.parseString(obj['data'], (err, result) => {\n          var titleArray = [];\n          var titleSpanArray = [];\n          var textSpanArray = [];\n          var dataArray = [[]];\n          var subtitleIndexArray = [[]];\n          var subtitleArray = [];\n          var curSentenceIndex = 1;\n          var curSectionIndex = 0;\n          var docTitle = result.document.sentence[1].text[0]._;\n          for (var section of result.document.section){\n            if(titleArray.length > 0) {\n              var lastSectionEndSpan = textSpanArray[textSpanArray.length - 1];\n              var thisSectionStartSpan = section.$.textSpan.split('-')[0];\n              if(parseInt(thisSectionStartSpan) - parseInt(lastSectionEndSpan) > 10) {\n                titleArray.push(\"UNNAMED\");\n                titleSpanArray.push((parseInt(lastSectionEndSpan) + 1).toString());\n                textSpanArray.push((parseInt(thisSectionStartSpan) - 1).toString());\n              }\n            }\n            titleArray.push(section.$.title);\n            titleSpanArray.push(section.$.titleSpan.split('-')[0]);\n            textSpanArray.push(section.$.textSpan.split('-')[1]);\n            if (section.section) {\n              Array.prototype.push.apply(subtitleArray, this.getSubTitles(section.section));\n            }\n          }\n\n          for (var sentence of result.document.sentence){\n            let spans = sentence.$.charOffset.split('-');\n            let start = spans[0];\n            let span = spans[1];\n            if (!titleSpanArray.includes(start)) {\n              if(parseInt(span) <= parseInt(textSpanArray[curSectionIndex])){\n                dataArray[curSectionIndex].push({id: curSentenceIndex, sentence: sentence.text[0]._, sentence_id: sentence.$.id});\n                if (subtitleArray.includes(sentence.text[0]._)) {\n                  subtitleIndexArray[curSectionIndex].push(curSentenceIndex);\n                }\n              }else{\n                curSectionIndex = curSectionIndex + 1;\n                curSentenceIndex = 1;\n                dataArray[curSectionIndex] = [];\n                dataArray[curSectionIndex].push({id: curSentenceIndex, sentence: sentence.text[0]._, sentence_id: sentence.$.id});\n                subtitleIndexArray[curSectionIndex] = [];\n                if (subtitleArray.includes(sentence.text[0]._)) {\n                  subtitleIndexArray[curSectionIndex].push(curSentenceIndex);\n                }\n              }\n              curSentenceIndex = curSentenceIndex + 1;\n            }\n          }\n          this.setState({titles: titleArray, data: dataArray, selectedFileName: filename,\n            xmlParsedJson: result, documentTitle: docTitle, selectionValues: null, subtitleIndexArray: subtitleIndexArray});\n          document.getElementById('title').setAttribute(\"href\", PDF_DIR + filename + \".pdf\");\n          document.getElementById('notes').value = '';\n        });\n      }\n    };\n    var postJson = {};\n    postJson[\"filename\"] = filename;\n    postJson[\"user\"] = this.state.userName;\n    xmlrequest.send(JSON.stringify(postJson));\n  }\n\n  handleAnnotatedFileChange(e){\n    var filename = e.value;\n    this.setState({selectedFileName: filename});\n    this.setState({checkSelections: false});\n    var xmlrequest = new XMLHttpRequest();\n    xmlrequest.open('POST', URL_GET_FILE, true);\n    xmlrequest.setRequestHeader(\"Content-type\", \"application/json\");\n    xmlrequest.onreadystatechange = () => {\n      if(xmlrequest.readyState === 4){\n        var text = xmlrequest.responseText;\n        var obj = JSON.parse(text);\n        var xml2js = require('xml2js');\n        var parser = new xml2js.Parser({trim: true});\n        parser.parseString(obj['data'], (err, result) => {\n          var titleArray = [];\n          var titleSpanArray = [];\n          var textSpanArray = [];\n          var dataArray = [[]];\n          var subtitleIndexArray = [[]];\n          var subtitleArray = [];\n          var selectionValues = [[]];\n          var curSentenceIndex = 1;\n          var curSectionIndex = 0;\n          selectionValues[curSectionIndex] = [];\n          var docTitle = result.document.sentence[1].text[0]._;\n          for (var section of result.document.section){\n            if(titleArray.length > 0) {\n              var lastSectionEndSpan = textSpanArray[textSpanArray.length - 1];\n              var thisSectionStartSpan = section.$.textSpan.split('-')[0];\n              if(parseInt(thisSectionStartSpan) - parseInt(lastSectionEndSpan) > 10) {\n                titleArray.push(\"UNNAMED\");\n                titleSpanArray.push((parseInt(lastSectionEndSpan) + 1).toString());\n                textSpanArray.push((parseInt(thisSectionStartSpan) - 1).toString());\n              }\n            }\n            titleArray.push(section.$.title);\n            titleSpanArray.push(section.$.titleSpan.split('-')[0]);\n            textSpanArray.push(section.$.textSpan.split('-')[1]);\n            if (section.section) {\n              Array.prototype.push.apply(subtitleArray, this.getSubTitles(section.section));\n            }\n          }\n          for (var sentence of result.document.sentence){\n            let spans = sentence.$.charOffset.split('-');\n            let start = spans[0];\n            let span = spans[1];\n            if (!titleSpanArray.includes(start)) {\n              if(parseInt(span) <= parseInt(textSpanArray[curSectionIndex])){\n                dataArray[curSectionIndex].push({id: curSentenceIndex, sentence: sentence.text[0]._, sentence_id: sentence.$.id});\n                if (subtitleArray.includes(sentence.text[0]._)) {\n                  subtitleIndexArray[curSectionIndex].push(curSentenceIndex);\n                }\n              }else{\n                curSectionIndex = curSectionIndex + 1;\n                curSentenceIndex = 1;\n                selectionValues[curSectionIndex] = [];\n                dataArray[curSectionIndex] = [];\n                dataArray[curSectionIndex].push({id: curSentenceIndex, sentence: sentence.text[0]._, sentence_id: sentence.$.id});\n                subtitleIndexArray[curSectionIndex] = [];\n                if (subtitleArray.includes(sentence.text[0]._)) {\n                  subtitleIndexArray[curSectionIndex].push(curSentenceIndex);\n                }\n              }\n\n              if (!selectionValues[curSectionIndex]) {\n                selectionValues[curSectionIndex] = [];\n              }\n              if(sentence.$.selection) {\n                selectionValues[curSectionIndex][curSentenceIndex-1] = sentence.$.selection;\n              }\n              curSentenceIndex = curSentenceIndex + 1;\n            }\n          }\n          this.setState({titles: titleArray, data: dataArray, selectedFileName: filename,\n            xmlParsedJson: result, documentTitle: docTitle, selectionValues: selectionValues, subtitleIndexArray: subtitleIndexArray});\n          document.getElementById('title').setAttribute(\"href\", PDF_DIR + filename + \".pdf\");\n          document.getElementById('notes').value = result.document.$.note;\n        });\n      }\n    };\n    var postJson = {};\n    postJson[\"filename\"] = filename;\n    postJson[\"user\"] = this.state.userName;\n    xmlrequest.send(JSON.stringify(postJson));\n  }\n\n  getSubTitles(section) {\n    var subtitles = [];\n    for ( var sec of section) {\n      subtitles.push(sec.$.title);\n      if (sec.section) {\n        Array.prototype.push.apply(subtitles, this.getSubTitles(sec.section));\n      }\n    }\n    return subtitles;\n  }\n\n  loadFile(fileObject){\n    var reader = new FileReader();\n    reader.onload = (e) => {\n      var text = reader.result;\n      var xml2js = require('xml2js');\n      var parser = new xml2js.Parser({explicitArray: false});\n      parser.parseString(text, (err, result) => {\n        var titleArray = [];\n        var textSpanArray = [];\n        var dataArray = [[]];\n        var curSentenceIndex = 1;\n        var curSectionIndex = 0;\n        console.log(err);\n        for (var section of result.document.section.section){\n          titleArray.push(section.$.title);\n          textSpanArray.push(section.$.textSpan.split('-')[1]);\n        }\n        for (var sentence of result.document.sentence){\n          let span = sentence.$.charOffset.split('-')[1];\n          if (!titleArray.includes(sentence.text._)){\n            if(parseInt(span) <= parseInt(textSpanArray[curSectionIndex])){\n              dataArray[curSectionIndex].push({id: curSentenceIndex, sentence: sentence.text._, sentence_id: sentence.$.id});\n              curSentenceIndex = curSentenceIndex + 1;\n            }else{\n              curSectionIndex = curSectionIndex + 1;\n              dataArray[curSectionIndex] = [];\n              dataArray[curSectionIndex].push({id: 1, sentence: sentence.text._, sentence_id: sentence.$.id});\n              curSentenceIndex = 2;\n            }\n          }\n        }\n        this.setState({titles: titleArray, data: dataArray});\n      });\n    };\n    reader.readAsText(fileObject);\n  }\n\n  handleUserSelectionSubmit(e){\n    this.setState({userName: this.state.selectedUserName});\n    this.retrieveFileNames(this.state.selectedUserName);\n  }\n\n  checkAllSelection(){\n    // var selectionValues = this.state.selectionValues;\n    // if (selectionValues == undefined) {\n    //   return false;\n    // }\n    // for (var i = 0; i < this.state.data.length; i++) {\n    //   if (selectionValues[i] == undefined) {\n    //     return false;\n    //   }\n    //   for (var j = 0; j < this.state.data[i].length; j++) {\n    //     if (selectionValues[i][j] == undefined) {\n    //       return false;\n    //     }\n    //   }\n    // }\n    return true;\n  }\n\n  findSentenceIndex(sentence_id){\n    var json = this.state.xmlParsedJson;\n    var i = 0;\n    while ( i < json.document.sentence.length) {\n      if (json.document.sentence[i].$.id == sentence_id) {\n        return i;\n      }\n      i++;\n    }\n    return -1;\n  }\n\n  saveSelectionValues(){\n    var xml2js = require('xml2js');\n    var builder = new xml2js.Builder();\n    var json = this.state.xmlParsedJson;\n    var note = document.getElementById(\"notes\").value;\n    var selection;\n    json.document.$.note = note;\n    for (var i = 0; i < this.state.data.length; i++){\n      for (var j = 0; j < this.state.data[i].length; j++) {\n        var index = this.findSentenceIndex(this.state.data[i][j].sentence_id);\n        if (index != -1) {\n          if (this.state.selectionValues[i]) {\n            if (this.state.selectionValues[i][j]) {\n              selection = this.state.selectionValues[i][j];\n              json.document.sentence[index].$.selection = selection;\n            }else{\n              json.document.sentence[index].$.selection = '';\n            }\n          }else {\n            json.document.sentence[index].$.selection = '';\n          }\n        }\n      }\n    }\n    var xml = builder.buildObject(json);\n    var postJsonRequest= new XMLHttpRequest();\n    postJsonRequest.open(\"POST\", URL_POST_JSON, true);\n    postJsonRequest.setRequestHeader(\"Content-type\", \"text/xml\");\n    postJsonRequest.onreadystatechange = () => {\n      if(postJsonRequest.readyState === 4){\n        var response = postJsonRequest.responseText;\n        this.retrieveFileNames(this.state.userName);\n        alert(`Successfully saved.`);\n      }\n    };\n    var postJson = {};\n    postJson[\"xml\"] = xml;\n    postJson[\"user\"] = this.state.userName;\n    postJson[\"filename\"] = this.state.selectedFileName;\n\n    postJsonRequest.send(JSON.stringify(postJson));\n  }\n\n  handleAnnotationSubmit(e){\n    if(this.checkAllSelection()){\n      this.saveSelectionValues();\n    }else{\n      this.setState({checkSelections: true});\n      alert(`Please make all selections before submitting.`);\n    }\n  }\n\n  handleUserSelectionChange(e){\n    this.setState({selectedUserName: e.value});\n  }\n\n  handleSelectChange(i, rowIndex, e){\n    var valueArray = this.state.selectionValues || [[]];\n    if (e) {\n      var columnArray = valueArray[i] || [];\n      var selection = '';\n      for (var k = 0; k < e.length; k++) {\n        selection = selection + e[k].index + ' ';\n      }\n      columnArray[rowIndex] = selection.trim();\n      valueArray[i] = columnArray;\n      this.setState({selectionValues: valueArray});\n    }else{\n      valueArray[i][rowIndex] = null;\n      this.setState({selectionValues: valueArray});\n    }\n    this.setState({checkSelections: false});\n  }\n\n  handleTabChange(tabIndex) {\n    this.setState({tabIndex: tabIndex});\n  }\n\n  findItemIndex() {\n    var index = new Set();\n    for(var i = 0; i < this.state.data.length; i++) {\n      if(this.state.selectionValues){\n        if(this.state.selectionValues[i]) {\n          var selections = this.state.selectionValues[i];\n          for(var j = 0; j < selections.length; j++) {\n            if(selections[j]) {\n              var selecs = selections[j].split(\" \");\n              for (var s of selecs) {\n                if(!index.has(s)) {\n                  index.add(s);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return index;\n  }\n\n  handleItemCheck() {\n    const options = [\n      { value: '1a', label: 'Title (Randomized) (1a)', index: 1},\n      { value: '1b', label: 'Structured Abstract (1b)', index: 2},\n      { value: 'introduction', label: 'Introduction', disabled: true, index: 3},\n      { value: '2a', label: 'Background (2a)', index: 4},\n      { value: '2b', label: 'Objective (2b)', index: 5},\n      { value: 'methods', label: 'Methods', disabled: true, index: 6},\n      { value: '3a', label: 'Trial Design (3a)', index: 7},\n      { value: '3b', label: 'Changes TO Trial Design (3b)', index: 8},\n      { value: '4a', label: 'Eligibility Criteria (4a)', index: 9},\n      { value: '4b', label: 'Data Collection Setting (4b)', index: 10},\n      { value: '5', label: 'Interventions (5)', index: 11},\n      { value: '6a', label: 'Outcomes (6a)', index: 12},\n      { value: '6b', label: 'Changes to Outcomes (6b)', index: 13},\n      { value: '7a', label: 'Sample Size Determination (7a)', index: 14},\n      { value: '7b', label: 'Interim Analyses/Stopping Guidelines (7b)', index: 15},\n      { value: '8a', label: 'Random Allocation Sequence Generation (8a)', index: 16},\n      { value: '8b', label: 'Randomization Type (8b)', index: 17},\n      { value: '9', label: 'Allocation Concealment Mechanism (9)', index: 18},\n      { value: '10', label: 'Randomization Implementation (10)', index: 19},\n      { value: '11a', label: 'Blinding Procedure (11a)', index: 20},\n      { value: '11b', label: 'Similarity of Interventions (11b)', index: 21},\n      { value: '12a', label: 'Statistical Methods for Outcome Comparison (12a)', index: 22},\n      { value: '12b', label: 'Statistical Methods for Other Analyses (12b)', index: 23},\n      { value: 'results', label: 'Results', disabled: true, index: 24},\n      { value: '13a', label: 'Participant Flow (13a)', index: 25},\n      { value: '13b', label: 'Participant Loss and Exclusion (13b)', index: 26},\n      { value: '14a', label: 'Recruitment Period/Follow-Up (14a)', index: 27},\n      { value: '14b', label: 'Trial Stopping (14b)', index: 28},\n      { value: '15', label: 'Baseline Data (15)', index: 29},\n      { value: '16', label: 'Numbers Analyzed (16)', index: 30},\n      { value: '17a', label: 'Outcome Results (17a)', index: 31},\n      { value: '17b', label: 'Binary Outcome Results (17b)', index: 32},\n      { value: '18', label: 'Ancillary Analyses (18)', index: 33},\n      { value: '19', label: 'Harms (19)', index: 34},\n      { value: 'discussion', label: 'Discussion', disabled: true, index: 35},\n      { value: '20', label: 'Limitations (20)', index: 36},\n      { value: '21', label: 'Generalizability (21)', index: 37},\n      { value: '22', label: 'Interpretation (22)', index: 38},\n      { value: 'other', label: 'Other', disabled: true, index: 39},\n      { value: '23', label: 'Registry/Number (23)', index: 40},\n      { value: '24', label: 'Protocol Access (24)', index: 41},\n      { value: '25', label: 'Funding (25)', index: 42},\n    ];\n    if(!this.state.selectedFileName) {\n      alert(`Please select a file first.`);\n    }else {\n      let params = \"scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=1000,height=1300,left=200,top=100\";\n      var selectedItemIndex = this.findItemIndex();\n      var win = window.open(\"\", \"itemcheckwindow\", params);\n      win.document.write(\"<table width='100%' border='1'>\");\n      win.document.write(\"<tr style='font-size: 18px;font-weight: bold'><td>\" + this.state.selectedFileName + \"</br>\" + this.state.data[0][0]['sentence'] + \"</td><td>Item No</td></tr>\");\n      for(var i = 0; i < options.length; i++) {\n        if (i == 0) {\n          win.document.write(\"<tr style='font-size: 20px;font-weight: bold'><td>Title</td></tr>\");\n        }\n        if (i == 1) {\n          win.document.write(\"<tr style='font-size: 20px;font-weight: bold'><td>Abstract</td></tr>\");\n        }\n        if (i == 2) {\n          win.document.write(\"<tr style='font-size: 20px;font-weight: bold'><td>Introduction</td></tr>\");\n          continue;\n        }\n        if (i == 5) {\n          win.document.write(\"<tr style='font-size: 20px;font-weight: bold'><td>Methods</td></tr>\");\n          continue;\n        }\n        if (i == 23) {\n          win.document.write(\"<tr style='font-size: 20px;font-weight: bold'><td>Results</td></tr>\");\n          continue;\n        }\n        if (i == 34) {\n          win.document.write(\"<tr style='font-size: 20px;font-weight: bold'><td>Discussion</td></tr>\");\n          continue;\n        }\n        if (i == 38) {\n          win.document.write(\"<tr style='font-size: 20px;font-weight: bold'><td>Other</td></tr>\");\n          continue;\n        }\n        if(selectedItemIndex.has((i+1).toString())){\n          win.document.write(\"<tr bgcolor='#b7deb8' style='font-size: 18px'><td>\" + options[i]['label'] + \"</td><td>\" + options[i]['value'] + \"</td></tr>\");\n        }\n        else {\n          win.document.write(\"<tr bgcolor='#f44f0d' style='font-size: 18px'><td>\" + options[i]['label'] + \"</td><td>\" + options[i]['value'] + \"</td></tr>\");\n        }\n      }\n      win.document.write(\"</table>\");\n    }\n  }\n\n  noUserSelectedInterface(){\n    const currentSelection = this.state.selectedUserName || \"Select Your Name\";\n    return (\n      <div>\n        <h1 align=\"center\" id=\"bigtitle\"> CONSORT Annotation Tool </h1>\n        <Select options={this.state.users} searchable={false} onSelectResetsInput={false} clearable={false}\n          value={currentSelection} className=\"dropdown\" onChange={this.handleUserSelectionChange}/>\n        <div id=\"buttonwrapper\">\n          <button onClick={this.handleUserSelectionSubmit}> Submit </button>\n        </div>\n      </div>\n    );\n  }\n\n  renderTable() {\n    return (\n      <div>\n        <div class=\"row\">\n          {/*\n          <div class=\"column left\">\n            <embed type=\"application/pdf\" height=\"800dp\" width=\"100%\" id=\"pdf\"/>\n            <h3> Notes: </h3>\n            <textarea id=\"notes\"/>\n          </div>\n\n          <div class=\"column right\">\n            {/*<div id=\"filepickerwrapper\">\n              <FileInput  onFileLoaded={this.handleFileLoaded}/>\n            </div>*/}\n          <div id=\"titlediv\">\n            <a target=\"_blank\" id=\"title\">{this.state.documentTitle}</a>\n            {/*<h2 id=\"title\">{this.state.documentTitle}</h2>*/}\n          </div>\n          <div id=\"tabtablewrapper\">\n            <TabTable titles={this.state.titles} data={this.state.data} onSelectChange={this.handleSelectChange}\n                selectionValues={this.state.selectionValues} checkSelections={this.state.checkSelections}\n                subtitleIndexArray={this.state.subtitleIndexArray} tabIndex={this.state.tabIndex}\n                handleTabIndexChange={this.handleTabChange}/>\n          </div>\n        </div>\n\n        <div>\n          <div class=\"bottom notewrapper\">\n            <h3> Notes: </h3>\n            <textarea id=\"notes\"/>\n          </div>\n          <div class=\"bottom submitbuttonwrapper\">\n            <button onClick={this.handleAnnotationSubmit}> Submit </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  userSelectedInterface(){\n    const currentFileName = this.state.selectedFileName || \"Select File\";\n    return (\n      <div>\n        <div>\n          <h1 align=\"center\" id=\"header\"> CONSORT Annotation Tool</h1>\n          <a href=\"CONSORT-guideline.pdf\" target=\"_blank\" align=\"right\">See Guideline</a>\n          <div class=\"infos\">\n            <div class=\"filedropdown\">\n              <Dropdown options={this.state.fileOptions} placeholder={currentFileName} onChange={this.handleFileChange}/>\n            </div>\n            <div class=\"progressbar\">\n              <h3>{this.state.numAnnotated} out of {this.state.numTotal} partially annotated</h3>\n              {/*<progress value={this.state.numAnnotated} max={this.state.numTotal} />*/}\n            </div>\n            <div class=\"itemcheckbuttonwrapper\">\n              <button class=\"itemcheckbutton\" onClick={this.handleItemCheck}> Item Check </button>\n            </div>\n          </div>\n        </div>\n        {this.state.selectedFileName ? this.renderTable() : <h1> no table available </h1>}\n      </div>\n    );\n  }\n\n  render(){\n    return this.state.userName ? this.userSelectedInterface() : this.noUserSelectedInterface();\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport UserInterface from './UserInterface';\n\n\nReactDOM.render(<UserInterface />, document.getElementById('root'));\n"],"sourceRoot":""}